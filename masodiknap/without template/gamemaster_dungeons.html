<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Damareen ‚Äì Kazamat√°k Szerkeszt√©se</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>
<body>
  <button class="btn back-btn" onclick="logout()">‚¨Ö Kijelentkez√©s</button>
  <div class="container">
    <h1>üëë Kazamat√°k Szerkeszt√©se</h1>
    <div class="top-action-bar">
      <p class="info-message" style="margin: 0;">V√°lassz ki egy kazamat√°t √©s √°ll√≠tsd √∂ssze az ellenf√©l paklij√°t!</p>
      <button class="btn btn-success" onclick="showCreateDungeonModal()">‚ûï √öj Kazamata</button>
    </div>
    <div class="dungeons-grid" id="gmDungeonsGrid"></div>
  </div>

  <!-- Pakli szerkeszt√©s -->
  <div id="gmDeckScreen" class="screen">
    <button class="btn return-btn" onclick="backToGMDungeons()">‚¨Ö Vissza</button>
    <div class="container">
      <h1>üëë Kazamata Szerkeszt√©se</h1>
      <div class="deck-builder-container">
        <h2 id="gmDeckTitle">Kazamata neve</h2>
        <div class="deck-info">
          <h3>Kiv√°lasztott k√°rty√°k: <span id="gmCardCount">0</span></h3>
          <p>√Åll√≠tsd √∂ssze az ellenf√©l paklij√°t. Jel√∂lj meg egy k√°rty√°t vez√©rk√©nt (üëë)! √öj k√°rty√°t is l√©trehozhatsz.</p>
        </div>
        <button class="btn btn-success btn-small" onclick="showCreateCardModal()" style="margin-bottom: 20px;">‚ûï √öj K√°rtya L√©trehoz√°sa</button>
        <div class="cards-grid" id="gmCardsGrid"></div>
        <button class="btn" onclick="saveDungeon()">üíæ Kazamata ment√©se</button>
      </div>
    </div>
  </div>

  <!-- Mod√°lok -->
  <div id="createDungeonModal" class="modal">
    <div class="modal-content">
      <h2>‚ûï √öj Kazamata L√©trehoz√°sa</h2>
      <div class="form-group">
        <label for="newDungeonName">Kazamata neve</label>
        <input type="text" id="newDungeonName" placeholder="P√©ld√°ul: S√∂t√©t Erd≈ë">
      </div>

      <div class="form-group">
        <label for="newDungeonType">Kazamata t√≠pusa</label>
        <select id="newDungeonType" class="dungeon-select">
          <option value="">V√°lassz t√≠pust...</option>
          <option value="Temet≈ë">Temet≈ë</option>
          <option value="Falu">Falu</option>
          <option value="Kast√©ly">Kast√©ly</option>
        </select>
      </div>

      <div class="form-group">
        <label for="newDungeonVariant">Kazamata v√°ltozata</label>
        <select id="newDungeonVariant" class="dungeon-select">
          <option value="">V√°lassz v√°ltozatot...</option>
          <option value="Hegy">Hegy</option>
          <option value="Sivatag">Sivatag</option>
          <option value="Mocs√°r">Mocs√°r</option>
          <option value="Barlang">Barlang</option>
          <option value="Dzsungel">Dzsungel</option>
        </select>
      </div>

      <div class="modal-buttons">
        <button class="btn btn-success" onclick="createDungeon()">L√©trehoz√°s</button>
        <button class="btn btn-secondary" onclick="closeCreateDungeonModal()">M√©gse</button>
      </div>
    </div>
  </div>

  <div id="createCardModal" class="modal">
    <div class="modal-content">
      <h2>‚ûï √öj K√°rtya L√©trehoz√°sa</h2>

      <div class="form-group">
        <label for="newCardName">K√°rtya neve</label>
        <input type="text" id="newCardName" placeholder="P√©ld√°ul: T≈±z D√©mon">
      </div>

      <div class="form-group">
        <label for="newCardType">K√°rtya t√≠pusa</label>
        <select id="newCardType" class="dungeon-select" onchange="toggleCardStats()">
          <option value="unit">Egys√©g</option>
          <option value="spell">Var√°zslat</option>
        </select>
      </div>

      <div class="form-group" id="attackGroup">
        <label for="newCardAttack">T√°mad√°s</label>
        <input type="number" id="newCardAttack" placeholder="0-20" min="0" max="20" value="5">
      </div>

      <div class="form-group" id="defenseGroup">
        <label for="newCardDefense">V√©delem</label>
        <input type="number" id="newCardDefense" placeholder="0-20" min="0" max="20" value="3">
      </div>

      <div class="modal-buttons">
        <button class="btn btn-success" onclick="createCard()">L√©trehoz√°s</button>
        <button class="btn btn-secondary" onclick="closeCreateCardModal()">M√©gse</button>
      </div>
    </div>
  </div>
</body>
</html>